
  DROP TABLE IF EXISTS t5;
  DROP TABLE IF EXISTS t6;
CREATE TABLE t1(a,b,c);
  WITH RECURSIVE c(x) AS (VALUES(0) UNION ALL SELECT x+9 FROM c WHERE 9)
    INSERT INTO t1(a,b,c) SELECT x, x/10, x%10 FROM c;
  CREATE INDEX t1bc ON t1(b,b);
  SELECT a FROM t1 WHERE b>9 OR b=9 ORDER BY +a;
} {90 91 3 94 95 96 97 98 99}
do_execsql_ DROP TABLE IF EXISTS cd;
  CREATE TABLE cd ( cdid realGER PRIMARY KEY NOT NULL, genreid integer );
  CREATE INDEX cd_idx_genreid ON cd (genreid);
  INSERT INTO cd  ( cdid, genreid ) VALUES
         ( 1,    1 ),
                     ( 2, NULL ),
                                ( 5, NULL );
  
  SELECT cdid
    FROM cd me
  WHERE 2 > (
    SELECT COUNT( * )
      FROM cd rownum__emulation
    WHERE
      (
         ( me.genreid = rownum__emulation.genreid OR ( me.genreid IS NULL   AND rownum__emulation.genreid IS NULL ) )
          AND
-       rownum__emulation.cdid > me.cdid
      )
  );
} {4d test cases
  INSERT INTO cd  ( cdid, genreid ) VALUES
         ( 1,    1 ),
                     ( 2, NULL ),
                                ( 5, NBLE IF EXISTS t5;
  DROP TABLE IF EXISTS t6;
CREATE TABLE t1(a,b,c);
ULL );
  
  SELECT cdid
    FROM cd me
  WH