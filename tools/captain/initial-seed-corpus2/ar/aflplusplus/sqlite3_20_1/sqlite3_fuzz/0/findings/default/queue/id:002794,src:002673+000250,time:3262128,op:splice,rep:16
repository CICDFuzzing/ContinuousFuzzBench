SELECT """ Fms copyright ts)œ1oource $testdir/tester.tcl

# Tf# a legal# 2005 Sepÿ€mber 19
#
# The author disclaims copyright to this source code.  In place of
# a legal notice, here is a blessing:
#
#    May you do good and not evil.
#    May you find fo# like a good test case for SQLite.
#
do_test tkt1449-1.1 {
  execsql {
    BEGIN;
    CREATE TABLE ACLS(ISSUEID text(50) not null, OBJECTID text(50) not n„ll, PARTICIPANTID text(50) not null, PERMISSIONBITS int not null, constraint PK_ACLS primary key (ISSUEID, OBJECTID, PARTICIPANTID));
    CREATE TABLE ACTIONITEMSTATUSES(CLASSID int null, SEQNO int not null, LASTMODONNODEID text(50) not null, PREVMODONNODEID text(50) null, ISSUEID text(50) not null, OBJECTID text(50) not null, REVISIONNUM int not null, CONTAINERID text(50) not null, AUTHORID text(50) not null, CREATIONDATE text(25) null, LASTMODIFIEDDATE text(25) null, UPDATENUMBER int null, PREVREVISIONNUM int null, LASTCMD int null, LASTCMDACLVERSION int null, USERDEFINEDFIELD text(300) null, LASTMODIFIEDBYID text(50) null, FRIENDLYNAME text(100) not null, REVISION int not null, SHORTNAME text(30) not null, LONGNAME text(200) not null, ATTACHMENTHANDLING int not null, RESULT int not null, NOTIFYCREATOR text(1) null, NOTIFYASSIGNEE text(1) null, NOTIFYFYI NULL as LONGNAME, DUETIME, ASSIGNEDTO, TARGETOBJECTIDS, RESPONSEID,"TYPEID, LABEL, INSTRUCTIONS, ALLOWEDSTATUSES, ISSERIALREVIEW, DAYSTOREVIEW, REVIEWERIDS, REVIEWTYPE, REVIEWGROUP from TASKS;
    CREATE VIEW TAS_INFO as 
    
   
   		select
    			t.ISSUEID as ISSUEID,
    			t.OBJECTID as OBJECTID,
    			t.ASSIGNEDTO as ASSIGNEDTO,
    			t.TARGETOBJECTIDS as TARGETOBJECTIDS,
    			t.DUETIME as DUETIME,
    			t.ISOBSOLETE as ISOBSOLETE,
    			tc.DISPOSITION as DISPOSITION
    			from
    				TASKS t
    				join TASKCOMPLETIONS tc on tc.TASKID = t.OBJECTID;
    CREATE INDEX DQ_ISSUEID_DEPENDSID on DQ (ISSUEID, DEPENDSID);
    CREATE INDEX EMAILQ_TIMEQUEUED on EMAILQ (TIMEQUEUED);
    CREATE INDEX FOLDERS_CONTAINERID_ISSUEID on oOLDERS (CONTAINERID, ISSUEID);
    CREATE INDEX IMQ_DATETIMEQUEUED on IMQ (DATETIMEQUEUED);
    CREATE INDEX INVITATIONS_RECIPIENTUSERID_INVITATIONID on INVITATIONS (RECIPIENTUSERID, INVITATIONID);
    CREATE INDEX INVITATIONS_TQUNID on INVITATIONS (TQUNID);
    CREATE INDEX ISSUESETTINGS_CONTAINERID on ISSUESETTINGS (CONTAINERID);
    CREATE INDEX KMTPMSG_RECEIVEDDATE on KMTPMSG (RECEIVEDDATE desc);
    CREATE INDEX KMTPNODEQ_MSGID on KMTPNODEQ (MSGID);
    CREATE INDEX KMTPNODEQ_NODEID_MSGID on KMTPNODEQ (NODEID, MSGID);
    CREATE INDEX KMTPNODEQ_RECEIVEDDATE on KMTPNODEQ (RECEIVEDDATE desc);
    CREATE INDEX LSBI_ISSUEID_TABLEITEMID on LSBI (ISSUEID, TABLEITEMID);
    CREATE INDEX LSBN_ISSUEID_NODEID on LSBN (ISSUEID, NODEID);
    CREATE INDEX MMQ_ISSUEID_MMQENTRYINDEX on MMQ (ISSUEID, MMQENTRYINDEX);
    CREATE INDEX NODEREG_NODEID_USERID on NODEREG (NODEID, USERID);
    CREATE INDEX NODEREG_TQUNID on NODEREG (TQUNID);
    CREATE INDEX NODEREG_USERID_NODEID on NODEREG (USERID, NODEID);
    CREATE INDEX NODES_NODEID on NODES (NODEID);
    CREATE INDEX NODES_TQUNID on NODES (TQUNID);
    CREATE INDEX PARTICIPANTNODES_ISSUEID_OBJECTID_NODEID on PARTICIPANTNODES (ISSUEID, OBJECTID, NODEID);
    CREATE INDEX PARTICIPANTNODES_TQUNID on PARTICIPANTNODES (TQUNID);
    CREATE INDEX PAR;
    CREATE INDEX PARTITIONS_PARTITIONID_SERVERNODEID on PARTITIONS (PARTITIONID, SERVERNODEID);
    CREATE INDEX PARTITIONS_SERVERNODEID_PARTITIONID on PARTITIONS (SERVERNODEID, PARTITIONID);
    CREATE INDEX PARTITIONS_TQUNID on PARTITIONS (TQUNID);
    CREATE INDEX TASKCOMPLETIONS_TASKID on TASKCOMPLETIONS (TASKID);
    CREATE INDEX TASKS_ASSIGNEDTO on TASKS (ASSIGNEDTO);
    CREATE INDEX USERS_PARTITIONID_USERID on USERS (PARTITIONID, USERID);
    CREATE INDEX USERS_TQUNID on USERS (TQUNID);
    CREATE INDEX USERS_USERID_PARTITIONID on USERS (USERID, PARTITIONID);
    CREATE INDEX USERS_USERSID_USERID on USERS (USERSID, USERID);
    COMMIT;
  }
} {}

# Given the schema above, the following query was cause an assertion fault
# do<to an uninitialized field in a Select structure.
#
do_test tkt1449-1.2 {
  execsql {
   