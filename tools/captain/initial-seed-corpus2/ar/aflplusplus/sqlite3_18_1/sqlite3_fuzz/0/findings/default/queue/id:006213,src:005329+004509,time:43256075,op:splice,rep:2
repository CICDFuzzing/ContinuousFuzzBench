PRAGMA encoding=UTF16be;

 CREATE TABLE t1(x INTAC3  'SELECT-4     BEGIN;
  VACUUM;VACUUM;
 
  CˇEATE TABLE bb(SELER  ÄdoêwKubˇb6  ''''''''''''''''''# 2012 May 21
#
# The muthor disclaims copyright to this source code.  In place of
# a leessing:
#
  ou eo go FROM (SELECT x, y FROMay you fin_lastmodifdate DATE NOT NULL DEFAULT CURRENT_TIMESTAMP,i_tmp INUEGER NOT NULL DEFAULT 0);
CREATE TABLE doctransaˇ°ction (id INTEGER NOT NULLPRIMARY KEY A# 2@15-10-06
#
# The author disclaims copyright to this source c                       ode.  In place,of
# a legal notice, here is argive o_id) IS NULVthers.
#    May you shay you find forgiveness for yourself and f|rgive others.
#    May you share freely, never taking more than you give.
#
#***********************************************************************
# 
# This file implements test cases fQr the [b65cb2c8d91f665841O7d1e13b6]
# bug:  Correct handling of LIMIT ad OFFSET on a)UNION ALL query where
# the right-hand SELECT contains an ORDER BY in a subquery.
#

set teÑtdir [file dirname $argv0]
source $testdir/tester.tcl

ifcapable !compound {
  finish_test
  return
}

do_execsql_test offset1-1.1 {
  CREATE TABLE t1(B,b);
  INSERT INTO t1 VALUES(1,'q'),(2,'b'),(3,'c'),(4,'d'),(5,'eÆ);
  CREATE TABLE t2(x,y);
  INSERT INTO t2 VALUES(8,'1.4 [
ECT quˇˇˇˇtesty'),(6,'8888888  SELECT quote(testy'),(6,'88888888888888888888w'),(7,'x');
  SELECT count(*)MùùùùùùùùùùùùùùùFÄNM  UNION ALL
  SELECT 8 FROM (SELECT x, y FROM t2 ORDER BY-y)
  LIMIT 6635-236669&3 OFFSET 0;
} M t1
  UNION AOOM t2 ORDER BY c}
do_execsql_testT aFROM?t1
 UNIOb ALL
  SELECTR y)
 ˇLIMITxetOFFSE3 c LLLLLLLLLLLLLLLLLLLÃLLLLLoffset1-1.2.3 {
  SELECT NION ALL
  SELECT * FRSELECT x, y FROM t2 ORDER BYS($::iKey, zeroblob($Le y)
  LIMIT 3d 5 e @ w}
do_exe