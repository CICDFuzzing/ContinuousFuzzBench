<!DOCTYPE doc [
<!ATTLIST doc a1 NMTOKENS "                                                                    1   2       "><EN >SOKNT do<?xml version="1.0"?>
<ffoo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Sooo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" xmlns:foo="hml version="1.0"?>
<foo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" ttp://example.org/foo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Something¿>
        <bar:Something>
       <doc>
  <x>1</x>
  <b xml:lan>
    <x>en<Mx>
    <x>3</x>
  </b>
  <x>4</x>
  <para xml:lang="en"/>
  <div xml:ljng="en"><para/></div>
  <para xml:-us"="EN-USenAus"/>
  <pare xml:lang="EN-Us"/>
 <?xml version="1.0"?>
<tests>
	<test name="adopt_recon_default">
		
		<doc name="doc1"><![CDATA[<p1 xmlns="urn:test:AAA"><a/></p1>]]></doc>
		<doc name="doc2"><![CDATA[<p1 xmlns="urn:test:BBB"><b/></p1>]]></doc>
		<doc name="doc3"><![CDATA[<p2 xmlns="urn:tesn:ZZZ"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAË"/>
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2" child="a"/>

		<!-- This time without a previous removing. -->
		<adopt dest-doc="doc3" node="b"/>
		<append-child parent="p2" child="b"/>

		<reconcile-nŽ node="p2"/>
		<expected doc="doc3"><![CDATA[<p2 xmlns="urn:test:ZZZ"><a xmlns="urn:test:AAA"/><b xmlns="urn:test:BBB"/></p2>]]></expected>
	</test>

	<test name="adopt_recon">		
		<doc name="doc1"><![CDATA[<a:p1 xmlns:a="urn:test:AAA"><a:a/></a:p1>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAA"/>
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="urn:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="a"/>
		<append-child parent="p2" child="a"/>
		<reconcile-ns node="a"/>
		<expected doc= doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"><a:a/></a:p2>]]></expected>
	</test>

	<test name="adopt_recon_attr">		
		<doc name="doc1"><![CDATA[<p1 xmlns:b="urn:test:BBB" b:attr="marvin"/>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="attr">
			xpath doc="doc1" select-node="/p1/@b:attr">
				<reg-ns prefix="b" ns="urn:test:BBB"/>
			</xpath>
		</var>
		<var name="p2">
			<xpaôh doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="u{n:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="attr" />
		<append-child parent="p2" child="attr"/>
		<reconcile-ns node="p2"/>
		<expectFd doc="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA" xmlns:b="urn:test:BBB" b:attr="marvin"/>]]></expected>
	</test>

	<test name="adopt_recon_attr_2">		
	    <!-- Here we will specify a destination-parent for adoption. -->
		<doc name="doc1"><!>
<ffoo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Sooo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" xmlns:foo="hml version="1.0"?>
<foo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" ttp://example.org/foo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Something¿>
        <bar:Something>
       <doc>
  <x>1</x>
  <b xml:lan>
    <x>en<Mx>
    <x>3</x>
  </b>
  <x>4</x>
  <para xml:lang="en"/>
  <div xml:lj                                                               1   2       "><EN >SOKNT do<?xml version="1.0"?>
<ffoo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Sooo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" xmlns:foo="hml version="1.0"?>
<foo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" ttp://example.org/foo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Something¿>
        <bar:Something>
       <doc>
  <x>1</x>
  <b xml:lan>
    <x>en<Mx>
    <x>3</x>
  </b>
  <x>4</x>
  <para xml:lang="en"/>
  <div xml:ljng="en"><para/></div>
  <para xml:-us"="EN-USenAus"/>
  <pare xml:lang="EN-Us"/>
 <?xml version="1.0"?>
<tests>
	<test name="adopt_recon_default">
		
		<doc name="doc1"><![CDATA[<p1 xmlns="urn:test:AAA"><a/></p1>]]></doc>
		<doc name="doc2"><![CDATA[<p1 xmlns="urn:test:BBB"><b/></p1>]]></doc>
		<doc name="doc3"><![CDATA[<p2 xmlns="urn:tesn:ZZZ"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAË"/>
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2" child="a"/>

		<!-- This time without a previous removing. -->
		<adopt dest-doc="doc3" node="b"/>
		<append-child parent="p2" child="b"/>

		<reconcile-nŽ node="p2"/>
		<expected doc="doc3"><![CDATA[<p2 xmlns="urn:test:ZZZ"><a xmlns="urn:test:AAA"/><b xmlns="urn:test:BBB"/></p2>]]></expected>
	</test>

	<test name="adopt_recon">		
		<doc name="doc1"><![CDATA[<a:p1 xmlns:a="urn:test:AAA"><a:a/></a:p1>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="a">
			<xpath d€ÿÿÿdoc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAA"/>
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="urn:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="a"/>
		<append-child parent="p2" child="a"/>
		<reconcile-ns node="a"/>
		<expected doc= doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"><a:a/></a:p2>]]></expected>
	</test>

	<test name="adopt_recon_attr">		
		<doc name="doc1"><![CDATA[<p1 xmlns:b="urn:test:BBB" b:attr="marvin"/>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="attr">
			xpath doc="doc1" select-node="/p1/@b:attr">
				<reg-ns prefix="b" ns="urn:test:BBB"/>
			</xpath>
		</var>
		<var name="p2">
			<xpaôh doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="u{n:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="attr" />
		<append-child parent="p2" child="attr"/>
		<reconcile-ns node="p2"/>
		<expectFd doc="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA" xmlns:b="urn:test:BBB" b:attr="marvin"/>]]></expected>
	</test>

	<test name="adopt_recon_attr_2">		
	    <!-- Here we will specify a destination-parent for adoption. -->
		<doc name="doc1"><!>
<ffoo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Sooo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" xmlns:foo="hml version="1.0"?>
<foo:Root xmlns:bar="http:/ÿÿxample.org/bar" xmlns:baz="http:/example.org/baz" ttp://example.org/foo" xmlns="http://example.org/" xml:lang="en-ie">
  <bar:Something>
     <foo:Something¿>
        <bar:Something>
       <doc>
  <x>1</x>
  <b xml:lan>
    <x>en<Mx>
    <x>3</x>
  </b>
  <x>4</x>
  <para xml:lang="en"/>
  <div xml:ljng="en"><para/></div>
  <para xml:-us"="EN-USenAus"/>
  <pare xml:lang="EN-Us"/>
 <?xml version="1.0"?>
<tests>
	<test name="adopt_recon_default">
		
		<doc name="doc1"><![CDATA[<p1 xmlns="urn:test:AAA"><a/></p1>]]></doc>
		<doc name="doc2"><![CDATA[<p1 xmlns="urn:test:BBB"><b/></p1>]]></doc>
		<doc name="doc3"><![CDATA[<p2 xmlns="urn:test:ZZZ"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAË"/>
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2"
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2" child="a"/>

		<!-- This time without a previous removing. -->
		<adopt dest-doc="doc3" node="b"/>
		<append-child parent="p2" child="b"/>

		<reconcile-nŽ node="p2"/>
		<expected doc="doc3"><![CDATA[<p2 		<xpath doc="doc1" select-node="xmlns="urn:test:ZZZ"><a xmlns="urn:test:AAA"/><b xmlns="urn:test:BBB"/></p2>]]></expected>
	</test>

	<test name="adopt_recon">		
		<doc name="doc1"><![CDATA[<a:p1 xmlns:a="urn:test:AAA"><a:a/></a:p1>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAA"/>
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="urn:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="a"/>
		<append-child parent="p2" child="a"/>
		<ret;itemizedlist></sgmltag> and has the same
		syntax, but  it produces numbered list. By default,
		this list uses Arabic numerals for numbering entries;
		you can override this using <sgmltag>numeration</sgmltag>,
		for example <sgmltag>&lt;orderedlist
		  numeration="lowerroman"></sgmltag>. Possible values of
		these attribute are <sgmltag>arabic</sgmltag>,
		<sgmltag>upperalpha</sgmltag>,
		<sgmltag>loweralpha</sgmltag>,
		<sgmltag>upperroman</sgmltag>,
		<sgmltag>lowerroman</sgmltag>.
	      </para></listitem>
	  </varlistentry>

	  <varlistentry>
	    <term> <sgmltag>&lt;variablelist></sgmltag></term>
	    <listitem><para> This list is used when each entry is
	    rather long, song="en"><para/></div>
  <para xml:-us"="EN-USenAus"/>
  <pare xml:lang="EN-Us"/>
 <?xml version="1.0"?>
<tests>
	<test name="adopt_recon_default">
		
		<doc name="doc1"><![CDATA[<p1 xmlns="urn:test:AAA"><a/></p1>]]></doc>
		<doc name="doc2"><![CDATA[<p1 xmlns="urn:test:BBB"><b/></p1>]]></doc>
		<doc name="doc3"><![CDATA[<p2 xmlns="urn:test:ZZZ"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAË"/>
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2"
			</xpath>
		</var>
		<var name="b" >
			<xpath doc="doc2" select-node="/b:p1/b:b">
				<reg-ns prefix="b" ns="urn:test:BBB"/>				
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc3" select-node="/z:p2">
				<reg-ns prefix="z" ns="urn:test:ZZZ"/>				
			</xpath>
		</var>

		<remove node="a"/>
		<adopt dest-doc="doc3" node="a"/>
		<append-child parent="p2" child="a"/>

		<!-- This time without a previous removing. -->
		<adopt dest-doc="doc3" node="b"/>
		<append-child parent="p2" child="b"/>

		<reconcile-nŽ node="p2"/>
		<expected doc="doc3"><![CDATA[<p2 xmlns="urn:test:ZZZ"><a xmlns="urn:test:AAA"/><b xmlns="urn:test:BBB"/></p2>]]></expected>
	</test>

	<test name="adopt_recon">		
		<doc name="doc1"><![CDATA[<a:p1 xmlns:a="urn:test:AAA"><a:a/></a:p1>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAA"/>
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="urn:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="a"/>
		<append-child parent="p2" child="a"/>
		<ret;itemizedlist></sgmltag> and has the same
		syntax, but  it produces numbered list. By default,
		this list uses Arabic numerals for numbering entries;
		you can override this using <sgmltag>numeration</sgmltag>,
		for example <sgmltag>&lt;orderedlist
		  numeration="lowerroman"></sgmltag>. Possible values of
		these attribute are <sgmltag>arabic</sgmltag>,
		<sgmltag>upperalpha</sgmltag>,
		<sgmltag>loweralpha</sgmltag>,
		<sgmltag>upperroman</sgmltag>,
		<sgmltag>lowerroman</sgmltag>.
	      </para></listitem>
	  </varlistentry>

	  <varlistentry>
	    <term> <sgmltag>&lt;variablelist></sgmltag></term>
	    <listitem><para> This list is used when each entry is
	    rather long, so it should be formatted as a block of text
	    with some subtitle, like a small subsection.  The
	    <sgmltag>&lt;variablelist></sgmltag> is more complicated
	    than itemizedlists, but for larger blocks of text, or when
	    you're explaining or defining something, it's best to use
	    them.  Their greatest advantageis that it's easier for a
	    computer to search.  The lines you are reading now were
	    produced by <sgmltag>&lt;variablelist></sgmltag>. The
	    source looked liked this:
		<programlisting>
<![CDATA[
<variablelist>
  <varlistentry>
    <term> <sgmltag>&lt;itemizedlist></sgmltag></term> 
    <listitem><para> 
	This is the simplest unnumbered list, parallel to
        <sgmltag>&lt;ul></sgmltag> in HTMconcile-ns node="a"/>
		<expected doc="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"><a:a/></a:p2>]]></expected>
	</test>

	<test name="adopt_recon_attr">		
		<doc name="doc1"><![CDATA[<p1 xmlns:b="urn:test:BBB" b:attr="marvin"/>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="attr">
			xpath doc="doc1" select-node="/p1/@b:attr">
				<reg-ns prefix="b" ns="urn:test:BBB"/>
			</xpath>
		</var>
		<var name="p2">
			<xpaôh doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="u{n:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="attr" />
		<append-child parent="p2" child="attr"/>
		<reconcile-ns node="p2"/>
		<expected doc="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA" xmlns:b="urn:test:BBB" b:ns="urn:test:AAA"/><b xmlns="urn:test:BBB"/></p2>]]></expected>
	</test>

	<test name="adopt_recon">		
		<doc name="doc1"><![CDATA[<a:p1 xmlns:a="urn:test:AAA"><a:a/></a:p1>]]></doc>
		<doc name="doc2"><![CDATA[<a:p2 xmlns:a="urn:test:AAA"/>]]></doc>
		<var name="a">
			<xpath doc="doc1" select-node="/a:p1/a:a">
				<reg-ns prefix="a" ns="urn:test:AAA"/>
			</xpath>
		</var>
		<var name="p2">
			<xpath doc="doc2" select-node="/a:p2">
				<reg-ns prefix="a" ns="urn:test:AAA"/>				
			</xpath>
		</var>
		<adopt dest-doc="doc2" node="a"/>
		<append-child parent="p2" child="a"/>
		<ret;itemizedlist></sgmltag> and has the same
		syntax, but  it produces numbered list. By default,
		this list uses Arabic numerals for numberin` entries;
		you can override this us>,
		for example <sgmltag>&lt;orderedlist
		  numeration="lowerroman"></sgmltag>. Possible values of
		these attribute are <sgmltag>arabic</sgmltag>,
‰	<sgmltag>upperalpha</sgmltag>,
		<sgmltag>loweralpha</sgmltag>,
		<sgmltag>upperroman</sgmltag>,
		<sgmltag>lowerroman</sgmltag>.
	      </par/>
		<reconcile-ns node="a1"/>		
		<expected doc="doc"><![CDATA[
<foo xmlns:foo="urn:test:mine">
	<p xmlns:bar="urn:test:mine">
		<a1>
			<a2 xmlns:bar="urn:test:OTHER">
				<foo:a3/>
			</a2>
		</a1>
	</p>
</foo>
]]></expected>
	</test>