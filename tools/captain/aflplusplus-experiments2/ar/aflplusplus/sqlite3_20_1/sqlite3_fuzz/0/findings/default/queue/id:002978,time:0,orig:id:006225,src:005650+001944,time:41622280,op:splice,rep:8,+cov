
  SELECT count(*) FILTER (WHERE b>2) FROM (SELECT * FROM t1) 
}

do2 